<!--
File: show_profile.html
# Author: Daniel Arteaga (d4nyart@bu.edu), 09/24/2025 
Description: Template for displaying detailed information about a single user profile.
             Shows profile image, username, display name, bio, join date, and
             placeholder statistics for posts, followers, and following counts.
-->
{% extends 'mini_insta/base.html' %}

{% block content %}
<div class="profile-detail">
    <div class="profile-main">
        <!-- Profile header section with image and basic info -->
        <div class="profile-header">
            <img src="{{ profile.profile_image_url }}" alt="{{ profile.username }}">
            <div class="profile-username">@{{ profile.username }}</div>
            <div class="profile-display-name">{{ profile.display_name }}</div>
        </div>
        
        <!-- Update profile button -->
        <div class="form-actions">
            <a href="{% url 'update_profile' pk=profile.pk %}" class="submit-btn">Update Profile</a>
        </div>
        
        <!-- About section displaying user's bio text -->
        <div class="profile-info">
            <h3>About</h3>
            <div class="profile-bio">{{ profile.bio_text }}</div>
        </div>
        
        <!-- Statistics section showing posts, followers, and following counts -->
        <div class="profile-stats">
            <div class="stat-box">
                <div class="stat-number">0</div>
                <div class="stat-label">Posts</div>
            </div>
            <div class="stat-box">
                <div class="stat-number">0</div>
                <div class="stat-label">Followers</div>
            </div>
            <div class="stat-box">
                <div class="stat-number">0</div>
                <div class="stat-label">Following</div>
            </div>
        </div>
        
        <!-- Display when the user joined the platform -->
        <div class="join-date">
            Member since {{ profile.join_date|date:"F d, Y g:i A" }}
        </div>
    </div>
    
    <div class="profile-posts">
        <!-- Posts section where post's first images are displayed -->
        <div class="profile-info">
            <h3>Posts</h3>
            <!-- Loop through all posts of the profile -->
            {% for post in profile.get_all_posts %} 
            <div class="post-container">
                    <b>Post {{post.pk}}</b><br>
                    <!-- Check if post has a photo, if not, show default photo of "Img not available"-->   
                    {% if post.get_first_photo %} 
                        <!-- Link to detailed post view -->
                        <a href="{% url 'show_post' pk=post.pk%}"> 
                            <img src="{{ post.get_first_photo.image_url }}" height="200px">
                        </a>
                    {% else %}
                        <a href="{% url 'show_post' pk=post.pk%}"> 
                            <img src="https://as1.ftcdn.net/jpg/04/34/72/82/1000_F_434728286_OWQQvAFoXZLdGHlObozsolNeuSxhpr84.jpg" height="200px">
                        </a>
                    {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}