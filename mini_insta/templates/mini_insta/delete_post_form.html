
<!--
File: delete_post_form.html
Author: Daniel Arteaga (d4nyart@bu.edu), 10/10/2025
Description: Template for confirming deletion of a post.
             Displays post information and provides confirmation form
             with delete and cancel options.
-->
{% extends 'mini_insta/base.html' %}

{% block content %}
<div class="post-detail">
    <div class="post-header">
        <div class="post-profile">Are you sure you want to delete <i>Post {{post.pk}}</i> by <i>@{{ post.profile.username }}</i>?</div>
    </div>
    
    <!-- Form to confirm post deletion, requires POST method -->
    <form action="{% url 'delete_post' pk=post.pk %}" method="POST" class="create-post-form">
        {% csrf_token %}
        
        <!-- Action buttons for confirming or canceling deletion -->
        <div class="form-actions">
            <button type="submit" class="submit-btn">Delete!</button>
            <!-- Link back to profile without deleting the post -->
            <a href="{% url 'show_profile' pk=profile.pk %}" class="cancel-link">Cancel</a> 
        </div>
    </form>

    <!-- Post preview section showing what will be deleted -->
    <div class="post-caption">{{ post.caption }}</div><br>
    
    <div class="post-content">
        <!-- Loop through all photos of the post to show what will be deleted -->
        {% for photo in post.get_all_photos %} 
            <img src="{{ photo.get_image_url }}" class="post-image">
        {% endfor %}
    </div>
</div>
{% endblock %}